In this chapter the Function Point Estimation model will be used to give a reliable estimation for the project complexity based
on its functionalities.


\section{Weighting function points} \label{sec:weights}
In the following table the weights used to correlate the Function Types to the development effort are presented.

\begin{center}
  \begin{tabular}{ |l|l|l|l| }
    \hline
    Function Types & \multicolumn{3}{l|}{Weight} \\ \hline
    Internal Logic Files & 7 & 10 & 15 \\ \hline
    External Interface Files & 5 & 7 & 10 \\ \hline
    External Inputs & 3 & 4 & 6 \\ \hline
    External Outputs & 4 & 5 & 7 \\ \hline
    External Inquiries & 3 & 4 & 6 \\ \hline
  \end{tabular}
\end{center}


\newpage
\section{Internal Logic Files (ILFs)}
HEY! I'M A REMINDER :) I AM HERE TO REMIND YOU THAT HERE YOU ASSUMED THAT: THE LOCATION WILL NOT STORE USER LOCATIONS, THE SAFE AREAS ARE REPRESENTED AS POLYGONS AND THE BEHAVIOURS WILL APPEAR IN THE RIDE TABLE AS A FOREIGN KEY. PLEASE INCLUDE MY ASSUMPTIONS IN THE PRECEDING DOCUMENTS BEFORE ERASING ME :)
\\ \\
Internal Logic Files are defined as the "homogeneous set of data used and managed by the application". For the PowerEnJoy project, based on the RASD analysis, we identified 9 logical groups of user data or control information: \\

\begin{description}
	\item [User :] The User table stores all the credentials and payment data for the users, we expect a relatively large amount of users for our system and considering that the number of fields is also really high we can assume its complexity is HIGH.
	\item [Vehicle :] The number of vehicles in our system will be limited. The Vehicle table, though, contains a large amount of fields. Therefore we can consider its complexity AVERAGE.
	\item [Location :] The Location table stores all the vehicles, safe areas and charging stations positions, since its fields are really limited and also its entries, we can consider its complexity LOW.
	\item [Safe Area :] The Safe Area table stores the safe areas as points composing a polygon. The amount of safe areas is limited and the number of points needed to represent a safe area is relatively low, we can consider its complexity LOW.
	\item [Charging Station :] The Charging Station table has a small amount of fields and probably the most limited amount of entries among the data tables composing our system. Its complexity is LOW.
	\item [Reservation :] Our system will have to deal with a large amount of reservations, which have a fairly complex structure, for this reason its complexity is considered HIGH.
	\item [Ride :] Similarly to reservations, the PowerEnJoy system will handle a large amount of ride's records, which have a complex structure. We therefore consider its complexity HIGH.
	\item [Behaviours :] The Behaviours table has a limited number of entries and a simple structure as it is composed of a small number of fields. Therefore we can consider its complexity LOW.
	\item [Payment :] The Payment table has a fairly complex structure and its entries are proportional to the Reservation and Ride entries. Its complexity is then considered HIGH.
\end{description}

\begin{center}
  \begin{tabular}{ |l|l|l| }
    \hline
    ILF & Complexity & FPs \\ \hline
    User & HIGH & 15 \\ \hline
    Vehicle & AVERAGE & 10 \\ \hline
    Location & LOW & 7 \\ \hline
    Safe Area & LOW & 7 \\ \hline
    Charging Station & LOW & 7 \\ \hline
    Reservation & HIGH & 15 \\ \hline
    Ride & HIGH & 15 \\ \hline
    Behaviours & LOW & 7 \\ \hline
    Payment & HIGH & 15 \\ \hline
    \multicolumn{2}{|l|}{Total} & 98 \\ \hline
  \end{tabular}
\end{center}


\newpage
\section{External Interface Files (EIFs)}
External Interface Files are defined as the "homogeneous set of data used by the application but generated and maintained by other applications". We identified 3 groups for EIFs: \\

\begin{description}
	\item [Notification Services :] The files generated by the Notification Services are records for the outgoing notifications requested by the PowerEnJoy system. The amount of notification data is consistent but its structure is simple and does not require any computation (other than checking the successful delivery), their complexity is then considered LOW.
	\item [Payment Services :] The files generated by the Payment Services are records for the outgoing payment requests and for the ingoing payments. The amount of notification data is consistent (proportional to the reservations) but its structure is simple and does not require any computation (other than checking the successful delivery/receipt), their complexity is then considered LOW.
	\item [Map Services :] The files generated by the Map Services are typically for reverse geocoding requests. The amount of map data is average but considering that this type of data requires computation to become usable we can assume its complexity as HIGH.
\end{description}

\begin{center}
  \begin{tabular}{ |l|l|l| }
    \hline
    EIF & Complexity & FPs \\ \hline
    Notification & LOW & 5 \\ \hline
    Payment & LOW & 5 \\ \hline
    Map & HIGH & 10 \\ \hline
    \multicolumn{2}{|l|}{Total} & 20 \\ \hline
  \end{tabular}
\end{center}


\newpage
\section{External Inputs (EIs)}
External Inputs Files are defined as the "elementary operations to elaborate data coming from the external environment".\\
The EIF are classified based on three different operations' categories:\\

\subsection{Guest}
\begin{description}
	\item [Registration :] This operation is not complex but needs a number of checks over the request's fields for validation purposes. Its complexity is AVERAGE.
	\item [Login :] The login operation involves only the AuthenticationManager component (and just the User ILF), its complexity is therefore LOW.
\end{description}

\subsection{User}
\begin{description}
	\item [Logout :] The logout operation is similar to the login, it involves the same components and ILF and it's then considered of LOW complexity.
	\item [Manage Account :] This operation is similar to the registration operation as it is an update request for the user's data. The complexity is AVERAGE since it needs to check and validate the request's fields.
	\item [Reserve Car: ] The reservation procedure is not complex but involves User, Reservation and Vehicle ILFs in addition to a number of check and notification procedures for expiration. Its complexity is therefore AVERAGE.
	\item [Release Reservation: ] Similarly to the reservation procedure (as it involves the same ILFs but not the same check and notification procedures), the release procedure has LOW complexity.
	\item [Start Ride: ] The start ride operation involves the RideController, ReservationManager and CarManager components and it relies on a number of different checks. Its complexity is AVERAGE.
	\item [End Ride: ] The car lock procedure is fairly complex and requires interaction with different components and a number of ILFs for validation checks (location must be inside safe-area), status update and payment requests. Its complexity is considered HIGH.
\end{description}

\subsection{On-Board}
\begin{description}
	\item [Update Sensor Data: ] This operation includes the update of the vehicle's location, odometer, battery level, status, number of seats and number of passengers. Since it deals only with the CarManager component and the Vehicle ILF its complexity is considered LOW.
\end{description}

\begin{center}
  \begin{tabular}{ |l|l|l| }
    \hline
    EI & Complexity & FPs \\ \hline
    Registration & AVERAGE & 4 \\ \hline
    Login & LOW & 3 \\ \hline
    Logout & LOW & 3 \\ \hline
    Manage Account & AVERAGE & 4 \\ \hline
    Reserve Car & AVERAGE & 4 \\ \hline
    Release Reservation & LOW & 3 \\ \hline
    Start Ride & AVERAGE & 4 \\ \hline
    End Ride & HIGH & 6 \\ \hline
    Update Sensor Data & LOW & 3 \\ \hline
    \multicolumn{2}{|l|}{Total} & 34 \\ \hline
  \end{tabular}
\end{center}


\newpage
\section{External Outputs (EOs)}

External Outputs are defined as the "elementary operations that generates data for the external environment". \\

\begin{description}
	\item [Notify the creation of a new user :] This procedure includes the generation of new credentials. Since it does not involve neither complex computation nor numerous data sources its complexity is LOW.
	\item [Notify the expiration of a reservation :] This procedure includes the application of the expiration fee. Since it must deal with different ILFs (Vehicle, Reservation, Payment) and EIFs (Payment Services, Notification Services) its complexity is HIGH.
	\item [Notify final charges :] This procedure includes the computation of alternative charge situations. It must read and write data from various internal and external data sources and deal with different external interface files (Notification Services and Payment Services). Its complexity is HIGH.
	\item [Notify nearby cars on request :] This procedure includes the retrieval of cars based on their current location. It is based on an ordering algorithm executed on a really limited set of locations and since it does not have to deal with numerous internal or external data source its complexity is AVERAGE.
	\item [Notify errors :] This includes the notifications for errors caused by various data-input procedures. Since its based on simple but numerous validation checks we can consider its complexity AVERAGE.
\end{description}

\begin{center}
  \begin{tabular}{ |l|l|l| }
    \hline
    EO & Complexity & FPs \\ \hline
    Notify the creation of a new user & LOW & 4 \\ \hline
    Notify the expiration of a reservation & HIGH & 7 \\ \hline
    Notify final charges & HIGH & 7 \\ \hline
    Notify nearby cars on request & AVERAGE & 5 \\ \hline
    Notify errors & AVERAGE & 5 \\ \hline
    \multicolumn{2}{|l|}{Total} & 28 \\ \hline
  \end{tabular}
\end{center}


\newpage
\section{External Inquiries (EQs)}

External Inquiries are defined as the "elementary operations that involve input and output". For the PowerEnJoy project, based on the RASD analysis, we identified 9 logical groups of user data or control information: \\

\begin{description}
	\item [Retrieval of profile informations :] Since this procedure reads data from a single internal data source (User) and does not require any additional computation, its complexity is LOW. 
	\item [Retrieval of map data :] The map data is based upon numerous data sources (Vehicle, Safe Area, Charging Station), for this reason its complexity is considered AVERAGE.
	\item [Retrieval of current reservation data :] Since this procedure retrieves data only from the Reservation ILF and does not carry out any further processing, its complexity is LOW.
	\item [Retrieval of ride history :] Similarly to the profile informations retrieval and reservation data retrieval, this procedure interacts only with the Ride table without any further processing. Its complexity is therefore LOW.
\end{description}

\begin{center}
  \begin{tabular}{ |l|l|l| }
    \hline
    EQ & Complexity & FPs \\ \hline
    Retrieval of profile informations & LOW & 3 \\ \hline
    Retrieval of map data & AVERAGE & 4 \\ \hline
    Retrieval of current reservation data & LOW & 3 \\ \hline
    Retrieval of ride history & LOW & 3 \\ \hline
    \multicolumn{2}{|l|}{Total} & 13 \\ \hline
  \end{tabular}
\end{center}


\newpage
\section{Overall Estimation}
Based on the table presented in section \ref{sec:weights} and on the reasoning described in the precedent sections, we can estimate the Unadjusted Function Points for the PowerEnJoy system:

 \begin{center}
  \begin{tabular}{ |l|l|l| }
    \hline
    Type & Value \\ \hline
    ILF & 98 \\ \hline
    EIF & 20 \\ \hline
    EI & 34 \\ \hline
    EO & 28 \\ \hline
    EQ & 13 \\ \hline
    Total & 193 \\ \hline
  \end{tabular}
\end{center}

We can proceed estimating the total number of lines of code: JEE will be the programming language and for this language the upper and lower-bound conversion factors are, respectively, 46 and 67. For our estimation, the mobile, web and on-board computer applications are not considered since they can be thought as pure presentation with no business logic. \\

The computed lower-bound is: 
\\\begin{center}$ SLOC = 193 * 46 = 8.878 $ \end{center}


The computed lower-bound is: 
\\\begin{center}$ SLOC = 193 * 67 = 12.931 $ \end{center}
